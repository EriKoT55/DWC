<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edificio</title>
    <style>
        body{
            margin-left:4px;
        }
        h1{
            text-align: center;
            margin:0 auto;
            
        }
        h2,h3{
            font-weight: bold;
        }
    </style>
    <script type="text/javascript" src="edificio.js"></script>
    <script type="text/javascript" src="ficheroJSON.js"></script>
</head>
<body>
    <h1>Comunitat de propietaris</h1>
    <script>
    colorRandomFondo();

    let ObjEdificio = new Edificio(Edificio1.tipoVia,Edificio1.nombreVia,Edificio1.numeroEdificio,
    Edificio1.codigoPostal);
 
    
    document.write(`<h1>[${Edificio1.tipoVia}&nbsp;&nbsp;${Edificio1.nombreVia},&nbsp;
        ${Edificio1.numeroEdificio}&nbsp;&nbsp;C.P ${Edificio1.codigoPostal}]</h1>`);    
    

        //Utilizo la funcion que dijiste para pasar el objeto a un array para trabajar
        //m√°s facilmente con el, y lo guardo en una variable
        let arrayObj = Object.entries(Edificio1.mapaPropietariosEdificio);
        let arrayObj2;
        let arrayObj3;

    for(let e=0;e<arrayObj.length;e++){
        
        ObjEdificio.agregarPlanta(arrayObj[e][0]);
        arrayObj2=Object.entries(arrayObj[e][1]);
        
        for(let r=0;r<arrayObj2.length;r++){
            
            ObjEdificio.agregarPuerta(arrayObj[e][0],arrayObj2[r][0],);
            arrayObj3=arrayObj2[r][1];
            
            for(let k=0;k<arrayObj3.length;k++){
                ObjEdificio.agregarPropietario(arrayObj3[k],arrayObj[e][0],arrayObj2[r][0]);
            
            }
        }
    }
    
    //Con replace() puedes ir modificando cada condicion del patron de aqui abajo,
    // y asi poderlo en HTML sin modificar imprimirTodosPropietarios


    resultado = ObjEdificio.imprimirTodosPropietarios();
        var br = resultado.replace(/\n/g,"<br>")
        var tab = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
        var imprimir = br.replace(/\t/g,tab)

        var x = imprimir.split(" ")

        for(let i = 0; i <x.length;i++){
            
            if(x[i].includes("Planta:")){
                x[i] = '<h2 class="planta">' + x[i];
                x[i+1] += "</h2>"
            }
            if(x[i].includes("Puerta:")){
                x[i] = "<h3>" +tab+ x[i];
                x[i+1] += "</h3>"
            }
         
        }

        var x = x.join(" ")

    document.write(x);
    

    </script>
</body>
</html>